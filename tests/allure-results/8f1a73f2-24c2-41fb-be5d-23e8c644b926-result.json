{"name": "Успешная авторизация пользователя", "status": "broken", "statusDetails": {"message": "NameError: name 'token_pattern' is not defined", "trace": "base_url = 'https://reqres.in/api', headers = {'x-api-key': 'reqres-free-v1'}\n\n    @allure.feature(\"Авторизация пользователя\")\n    @allure.story(\"Авторизация пользователя\")\n    @allure.title(\"Успешная авторизация пользователя\")\n    def test_post_login_success(base_url, headers):\n        with allure.step('Отправление запроса'):\n            payload = {\n                \"email\": \"eve.holt@reqres.in\",\n                \"password\": \"pistol\"\n            }\n            url = base_url\n            #response = api_request(url, endpoint=\"/login\", method=\"POST\", data=payload, headers=headers)\n            #token = response.json().get(\"token\")\n            #token_pattern = r\"^[A-Za-z0-9]+$\"\n    \n            response = requests.post(f'{url}{endpoint}', data=payload, headers=headers)\n            body = response.json()\n            #emails = [element['email'] for element in body['data']]\n    \n            #assert response.status_code == 200\n            #assert all('@' in email for email in emails)\n            #validate(body, schema=get_users)\n    \n        with allure.step('Проверка кода'):\n            assert response.status_code == 200\n    \n        with allure.step('Проверка токена'):\n>           assert re.match(token_pattern, token)\n                            ^^^^^^^^^^^^^\nE           NameError: name 'token_pattern' is not defined\n\ntest_reqres_in_login.py:38: NameError"}, "steps": [{"name": "Отправление запроса", "status": "passed", "start": 1750372793272, "stop": 1750372793590}, {"name": "Проверка кода", "status": "passed", "start": 1750372793590, "stop": 1750372793590}, {"name": "Проверка токена", "status": "broken", "statusDetails": {"message": "NameError: name 'token_pattern' is not defined\n", "trace": "  File \"/Users/arkadijsyckov/PycharmProjects/QA_GURU_Python_19_api_diplom/tests/test_reqres_in_login.py\", line 38, in test_post_login_success\n    assert re.match(token_pattern, token)\n                    ^^^^^^^^^^^^^\n"}, "start": 1750372793590, "stop": 1750372793590}], "start": 1750372793272, "stop": 1750372793591, "uuid": "ff626ac9-95a8-411f-9fbd-b8d62d019455", "historyId": "ceaff859c5e01609685fbfc071cde3d7", "testCaseId": "ceaff859c5e01609685fbfc071cde3d7", "fullName": "tests.test_reqres_in_login#test_post_login_success", "labels": [{"name": "story", "value": "Авторизация пользователя"}, {"name": "feature", "value": "Авторизация пользователя"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_reqres_in_login"}, {"name": "host", "value": "Noutbuk-Arkadij.local"}, {"name": "thread", "value": "26571-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_reqres_in_login"}]}