{"name": "Успешная авторизация пользователя", "status": "broken", "statusDetails": {"message": "TypeError: expected string or bytes-like object, got 'NoneType'", "trace": "base_url = 'https://reqres.in/api', headers = {'x-api-key': 'reqres-free-v1'}\n\n    @allure.feature(\"Авторизация пользователя\")\n    @allure.story(\"Авторизация пользователя\")\n    @allure.title(\"Успешная авторизация пользователя\")\n    def test_post_login_success(base_url, headers):\n        with allure.step('Отправление запроса'):\n            payload = {\n                \"email\": \"eve.holt@reqres.in\",\n                \"password\": \"pistol\"\n            }\n            url = base_url\n            #response = api_request(url, endpoint=\"/login\", method=\"POST\", data=payload, headers=headers)\n    \n    \n            response = requests.get(f'{url}{endpoint}', headers=headers)\n            body = response.json()\n            token = response.json().get(\"token\")\n            token_pattern = r\"^[A-Za-z0-9]+$\"\n            #emails = [element['email'] for element in body['data']]\n    \n            #assert response.status_code == 200\n            #assert all('@' in email for email in emails)\n            #validate(body, schema=get_users)\n    \n        with allure.step('Проверка кода'):\n            assert response.status_code == 200\n    \n        with allure.step('Проверка токена'):\n>           assert re.match(token_pattern, token)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntest_reqres_in_login.py:39: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npattern = '^[A-Za-z0-9]+$', string = None, flags = 0\n\n    def match(pattern, string, flags=0):\n        \"\"\"Try to apply the pattern at the start of the string, returning\n        a Match object, or None if no match was found.\"\"\"\n>       return _compile(pattern, flags).match(string)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: expected string or bytes-like object, got 'NoneType'\n\n/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/re/__init__.py:167: TypeError"}, "steps": [{"name": "Отправление запроса", "status": "passed", "start": 1750372361633, "stop": 1750372361784}, {"name": "Проверка кода", "status": "passed", "start": 1750372361784, "stop": 1750372361784}, {"name": "Проверка токена", "status": "broken", "statusDetails": {"message": "TypeError: expected string or bytes-like object, got 'NoneType'\n", "trace": "  File \"/Users/arkadijsyckov/PycharmProjects/QA_GURU_Python_19_api_diplom/tests/test_reqres_in_login.py\", line 39, in test_post_login_success\n    assert re.match(token_pattern, token)\n           ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/re/__init__.py\", line 167, in match\n    return _compile(pattern, flags).match(string)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^\n"}, "start": 1750372361784, "stop": 1750372361784}], "start": 1750372361633, "stop": 1750372361785, "uuid": "26e95264-dbee-4a97-ad89-220a8b808bd7", "historyId": "ceaff859c5e01609685fbfc071cde3d7", "testCaseId": "ceaff859c5e01609685fbfc071cde3d7", "fullName": "tests.test_reqres_in_login#test_post_login_success", "labels": [{"name": "story", "value": "Авторизация пользователя"}, {"name": "feature", "value": "Авторизация пользователя"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_reqres_in_login"}, {"name": "host", "value": "Noutbuk-Arkadij.local"}, {"name": "thread", "value": "26515-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_reqres_in_login"}]}